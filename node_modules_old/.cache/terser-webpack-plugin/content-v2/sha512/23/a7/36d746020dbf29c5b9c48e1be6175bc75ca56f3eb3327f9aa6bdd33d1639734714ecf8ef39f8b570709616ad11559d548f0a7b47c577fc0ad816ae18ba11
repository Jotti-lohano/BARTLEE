{"map":{"version":3,"sources":["js/chunks/5.c9f899aa0f7ff15b69f4.js"],"names":["window","push","295","module","__webpack_exports__","__webpack_require__","r","regenerator","regenerator_default","n","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","components_BellNotificationvue_type_script_lang_js_","data","bell_notifications","notification_count","created","_this","a","mark","_callee","wrap","_context","prev","next","fetch","stop","mounted","_this2","_callee2","_context2","methods","_this3","_callee3","_yield$axios$get","_context3","axios","get","sent","notifications","console","log","markRead","id","_this4","_callee4","index","_context4","findIndex","item","post","res","$router","go","name","$delete","componentNormalizer","component","Object","_vm","_h","$createElement","_c","_self","staticClass","attrs","href","data-bs-toggle","aria-expanded","_v","_s","_m","data-ps-id","_l","notification","on","click","$event","title","datetime","_f","created_at","updated_at","to"],"mappings":"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"},"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{295:function(t,e,a){\"use strict\";a.r(e);var n=a(0),i=a.n(n);function r(t,e,a,n,i,r,s){try{var o=t[r](s),c=o.value}catch(t){return void a(t)}o.done?e(c):Promise.resolve(c).then(n,i)}function s(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var s=t.apply(e,a);function o(t){r(s,n,i,o,c,\"next\",t)}function c(t){r(s,n,i,o,c,\"throw\",t)}o(void 0)}))}}var o={data:function(){return{bell_notifications:[],notification_count:[]}},created:function(){var t=this;return s(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch();case 2:case\"end\":return e.stop()}}),e)})))()},mounted:function(){var t=this;return s(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch();case 2:case\"end\":return e.stop()}}),e)})))()},methods:{fetch:function(){var t=this;return s(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,axios.get(\"admin/notification/getNotification\");case 2:a=e.sent,n=a.data,t.bell_notifications=n.notifications,t.notification_count=n.notification_count,console.log(t.bell_notifications);case 7:case\"end\":return e.stop()}}),e)})))()},markRead:function(t){var e=this;return s(i.a.mark((function a(){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.bell_notifications.findIndex((function(e){return e.id===t})),a.next=3,axios.post(\"admin/notification/markAsRead/\",{id:t}).then((function(t){e.$router.go({name:\"admin.notifications.index\"})}));case 3:e.$delete(e.bell_notifications,n);case 4:case\"end\":return a.stop()}}),a)})))()}}},c=a(1),d=Object(c.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"li\",{staticClass:\"dropdown dropdown-notification nav-item\"},[a(\"a\",{staticClass:\"nav-link nav-link-label\",attrs:{href:\"#\",\"data-bs-toggle\":\"dropdown\",\"aria-expanded\":\"true\"}},[a(\"i\",{staticClass:\"far fa-bell\"}),t._v(\" \"),a(\"span\",{staticClass:\"badge badge-pill badge-default badge-danger badge-default badge-up\"},[t._v(t._s(t.notification_count))])]),t._v(\" \"),a(\"ul\",{staticClass:\"dropdown-menu dropdown-menu-end\"},[t._m(0),t._v(\" \"),a(\"li\",{staticClass:\"scrollable-container media-list ps-container ps-theme-dark\",attrs:{\"data-ps-id\":\"75e644f2-605d-3ecc-f100-72d86e4a64d8\"}},[a(\"a\",{attrs:{href:\"javascript:void(0)\"}},t._l(t.bell_notifications,(function(e,n){return a(\"div\",{key:n,staticClass:\"media d-flex\"},[t._m(1,!0),t._v(\" \"),a(\"div\",{staticClass:\"media-body flex-grow-1\"},[a(\"a\",{attrs:{href:\"javascript:void(0)\"},on:{click:function(a){return t.markRead(e.id)}}},[a(\"h6\",{staticClass:\"media-heading\"},[t._v(t._s(e.data.title))]),t._v(\" \"),a(\"small\",[a(\"time\",{staticClass:\"date-meta\",attrs:{datetime:\"2015-06-11T18:29:20+08:00\"}},[t._v(t._s(t._f(\"newFormatDate\")(e.created_at)))]),t._v(\" \"),a(\"time\",{staticClass:\"time-meta\",attrs:{datetime:\"2015-06-11T18:29:20+08:00\"}},[t._v(t._s(t._f(\"newFormatTime\")(e.updated_at)))])])])])])})),0)]),t._v(\" \"),a(\"li\",{staticClass:\"dropdown-menu-footer\"},[a(\"router-link\",{staticClass:\"dropdown-item theme-blue-txt text-center\",attrs:{to:{name:\"admin.notifications.index\"}}},[t._v(\"View all\")])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e(\"li\",{staticClass:\"dropdown-menu-header\"},[e(\"div\",[e(\"h6\",{staticClass:\"dropdown-header text-center fw-bold mb-2\"},[this._v(\"Notifications\")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",{staticClass:\"media-left flex-shrink-0 align-self-top\"},[e(\"i\",{staticClass:\"far fa-bell\"})])}],!1,null,null,null);e.default=d.exports}}]);","extractedComments":[]}